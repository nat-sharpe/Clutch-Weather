(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(7),o=a.n(i),r=(a(15),a(9)),s=a(8),l=a(1),u=a(2),h=a(4),m=a(3),d=a(5),g=(a(17),function(){return c.a.createElement("a",{href:"https://www.driveclutch.com/",target:"_blank",rel:"noopener noreferrer",className:"header"},c.a.createElement("img",{className:"logo",alt:"logo",src:"../../clutch-logo.png"}),c.a.createElement("h3",{className:"title"},"CLUTCH Weather"))}),v=(a(19),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[],t="";this.props.state.viewInfo?(t="Forecast",this.props.state.currentCondition.info.forEach(function(t,a){e.push(c.a.createElement("li",{className:"info-row",key:a},c.a.createElement("p",{className:"row-title"},t.type),c.a.createElement("h3",{className:"row-data"},t.value)))})):(t="More Data",this.props.state.currentForecast.forEach(function(t,a){var n=0===a?"Today":t.day;e.push(c.a.createElement("li",{className:"forecast-row",key:a},c.a.createElement("p",{className:"row-day"},n),c.a.createElement("p",{className:"row-weather"},t.text),c.a.createElement("p",{className:"row-high"},t.high,"\xb0"),c.a.createElement("p",{className:"row-low"},t.low,"\xb0")))}));return c.a.createElement("div",{className:"single-main"},c.a.createElement("div",{className:"current"},c.a.createElement("h2",{className:"current-city"},this.props.state.currentLocation.city),c.a.createElement("p",{className:"current-weather"},this.props.state.currentCondition.text),c.a.createElement("h1",{className:"current-temp"},this.props.state.currentCondition.temp)),c.a.createElement("hr",{className:"line"}),c.a.createElement("div",{className:"forecast-or-info"},e),c.a.createElement("div",{className:"toggle-info",onClick:this.props.toggleInfo},c.a.createElement("h3",null,t)),c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"toggle-location",onClick:this.props.toggleLeft},c.a.createElement("h3",null,"<")),c.a.createElement("div",{className:"view-every",onClick:this.props.viewEvery},c.a.createElement("h3",null,"Your Locations")),c.a.createElement("div",{className:"toggle-location",onClick:this.props.toggleRight},c.a.createElement("h3",null,">"))))}}]),t}(n.Component)),p=(a(21),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=[],a=this.props.state.savedLocations;return a.forEach(function(n,i){var o=a.length>1?c.a.createElement("div",{className:"row-delete",onClick:function(){return e.props.deleteLocation(n.uniqueId)}},c.a.createElement("h3",null,"X")):null;t.push(c.a.createElement("li",{className:"locations-row",key:i},c.a.createElement("h3",{className:"row-city",onClick:function(){return e.props.viewSingle(i)}},"".concat(n.city,", ").concat(n.region)),o))}),c.a.createElement("div",{className:"every-main"},c.a.createElement("div",{className:"locations"},t),c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"view-add-big",onClick:this.props.viewAdd},c.a.createElement("h3",null,"Add"))))}}]),t}(n.Component)),f=(a(23),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).handleChange=function(e){var t=e.target.value;t.length>1?a.props.getMatches(t):t.length<1&&a.props.clearSearch()},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=[];return this.props.state.matchingCities.forEach(function(a,n){t.push(c.a.createElement("li",{className:"locations-row",key:"".concat(a.city).concat(n)},c.a.createElement("p",{className:"row-city",onClick:function(){return e.props.addNew(a)}},"".concat(a.city,", ").concat(a.region))))}),c.a.createElement("div",{className:"add-main"},c.a.createElement("form",{className:"search"},c.a.createElement("input",{className:"search-input",type:"text",onChange:function(t){return e.handleChange(t)},placeholder:"Search by US City"})),c.a.createElement("div",{className:"locations"},t),c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"view-every-big",onClick:this.props.viewEvery},c.a.createElement("h3",null,"Your Locations"))))}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).getWeather=function(){fetch('https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text="'.concat(a.state.currentLocation.city,", ").concat(a.state.currentLocation.region,'")&format=json')).then(function(e){e.json().then(function(e){var t={city:e.query.results.channel.location.city,text:e.query.results.channel.item.condition.text,temp:"".concat(e.query.results.channel.item.condition.temp,"\xb0"),info:[{type:"Sunrise",value:e.query.results.channel.astronomy.sunrise},{type:"Sunset",value:e.query.results.channel.astronomy.sunset},{type:"Wind",value:"".concat(e.query.results.channel.wind.speed," mph")},{type:"Humidity",value:"".concat(e.query.results.channel.atmosphere.humidity,"%")}]};a.setState({currentCondition:t});for(var n=e.query.results.channel.item.forecast,c=[],i=0;i<4;i++){var o={day:n[i].day,text:n[i].text,high:n[i].high,low:n[i].low};c.push(o)}a.setState({currentForecast:c})})})},a.toggleLocation=function(e){var t,n=a.state.currentLocation.index;"left"===e?t=0===n?a.state.savedLocations.length-1:n-1:"right"===e&&(t=n===a.state.savedLocations.length-1?0:n+1);var c={city:a.state.savedLocations[t].city,region:a.state.savedLocations[t].region,index:t};a.setState({currentLocation:c,viewInfo:!1},a.getWeather)},a.toggleLeft=function(){a.toggleLocation("left")},a.toggleRight=function(){a.toggleLocation("right")},a.viewEvery=function(){a.setState({visiblePage:"every",viewInfo:!1})},a.viewSingle=function(e){var t=a.state.savedLocations[e];a.setState({visiblePage:"single",currentLocation:{city:t.city,region:t.region,index:e}},function(){return a.getWeather()})},a.viewAdd=function(){a.setState({visiblePage:"add"})},a.deleteLocation=function(e){var t=a.state.savedLocations.filter(function(t){return t.uniqueId!==e});a.setState({savedLocations:t},function(){return localStorage.setItem("saved-locations",JSON.stringify(a.state.savedLocations))})},a.addNew=function(e){a.setState({visiblePage:"every",matchingCities:[],savedLocations:Object(s.a)(a.state.savedLocations).concat([e]),currentLocation:{city:e.city,region:e.region,id:e.uniqueId,index:a.state.savedLocations.length}},function(){localStorage.setItem("saved-locations",JSON.stringify(a.state.savedLocations)),a.getWeather()})},a.getMatches=function(e){fetch('https://query.yahooapis.com/v1/public/yql?q=select * from geo.places(all) where text="'.concat(e,'*" and country = "United States"&format=json')).then(function(e){e.json().then(function(e){var t=[],n=e.query.results,c="id-city"+Math.random().toString(36).substr(2,16);n&&Array.isArray(n.place)?n.place.forEach(function(e){t.push({city:e.name,region:e.admin1&&""!==e.admin1.code?e.admin1.code.slice(3):e.country.content,uniqueId:c})}):n&&n.place&&t.push({city:n.place.name,region:n.place.admin1&&""!==n.place.admin1.code?n.place.admin1.code.slice(3):n.place.country.content,uniqueId:c}),a.setState({matchingCities:t})})})},a.clearSearch=function(){a.setState({matchingCities:[]})},a.toggleInfo=function(){a.setState({viewInfo:!a.state.viewInfo})},a.state={savedLocations:[],currentLocation:{},currentCondition:{},currentForecast:[],visiblePage:"single",matchingCities:[],viewInfo:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("saved-locations"),a=[];a=t?JSON.parse(t):[{city:"Atlanta",region:"GA",uniqueId:"default_location"}],console.log(a),this.setState({savedLocations:a,currentLocation:Object(r.a)({},a[0],{index:0})},function(){e.getWeather()})}},{key:"render",value:function(){var e;return"single"===this.state.visiblePage?e=c.a.createElement(v,{state:this.state,toggleLeft:this.toggleLeft,toggleRight:this.toggleRight,viewEvery:this.viewEvery,toggleInfo:this.toggleInfo}):"every"===this.state.visiblePage?e=c.a.createElement(p,{state:this.state,deleteLocation:this.deleteLocation,viewSingle:this.viewSingle,viewAdd:this.viewAdd}):"add"===this.state.visiblePage&&(e=c.a.createElement(f,{state:this.state,getMatches:this.getMatches,clearSearch:this.clearSearch,addNew:this.addNew,viewEvery:this.viewEvery})),c.a.createElement("div",{className:"app"},c.a.createElement(g,null),e)}}]),t}(n.Component);o.a.render(c.a.createElement(y,null),document.getElementById("root"))}],[[10,2,1]]]);
//# sourceMappingURL=main.bd7f200c.chunk.js.map